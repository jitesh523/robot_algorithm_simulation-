<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Pathfinding Algorithm Simulation</title>
    <meta name="description"
        content="Interactive simulation comparing Dijkstra's, A*, Genetic Algorithm, and BFS pathfinding algorithms for autonomous grass-cutting robots">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ü§ñ Robot Pathfinding Simulation</h1>
            <p class="subtitle">Comparing algorithms for autonomous grass-cutting robots</p>
        </header>

        <main>
            <div class="simulation-area">
                <div class="controls-panel">
                    <div class="control-group">
                        <h3>Grid Controls</h3>
                        <div class="button-group">
                            <button id="clearBtn" class="btn btn-secondary">Clear Grid</button>
                            <button id="randomObstaclesBtn" class="btn btn-secondary">Random Obstacles</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>Save/Load Configuration</h3>
                        <div class="button-group">
                            <button id="saveGridBtn" class="btn btn-success">üíæ Save Grid</button>
                            <button id="loadGridBtn" class="btn btn-info">üìÇ Load Grid</button>
                        </div>
                        <input type="file" id="gridFileInput" accept=".json" style="display: none;">
                    </div>

                    <div class="control-group">
                        <h3>Drawing Mode</h3>
                        <div class="mode-selector">
                            <button id="obstacleMode" class="mode-btn active" data-mode="obstacle">
                                <span class="mode-icon">üß±</span>
                                Obstacle
                            </button>
                            <button id="startMode" class="mode-btn" data-mode="start">
                                <span class="mode-icon">üü¢</span>
                                Start
                            </button>
                            <button id="endMode" class="mode-btn" data-mode="end">
                                <span class="mode-icon">üéØ</span>
                                End
                            </button>
                            <button id="eraseMode" class="mode-btn" data-mode="erase">
                                <span class="mode-icon">üßπ</span>
                                Erase
                            </button>
                        </div>
                        <h4 style="margin-top: 12px; font-size: 0.9rem; color: #94a3b8;">Terrain Types</h4>
                        <div class="mode-selector">
                            <button id="grassMode" class="mode-btn" data-mode="grass">
                                <span class="mode-icon">üå±</span>
                                Grass
                            </button>
                            <button id="mudMode" class="mode-btn" data-mode="mud">
                                <span class="mode-icon">üü´</span>
                                Mud
                            </button>
                            <button id="waterMode" class="mode-btn" data-mode="water">
                                <span class="mode-icon">üíß</span>
                                Water
                            </button>
                            <button id="sandMode" class="mode-btn" data-mode="sand">
                                <span class="mode-icon">üèñÔ∏è</span>
                                Sand
                            </button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>Algorithm Selection</h3>
                        <div class="algorithm-selector">
                            <label class="checkbox-label">
                                <input type="checkbox" id="dijkstraCheck" checked>
                                <span class="checkmark"></span>
                                Dijkstra's Algorithm
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="astarCheck" checked>
                                <span class="checkmark"></span>
                                A* Pathfinding
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="geneticCheck" checked>
                                <span class="checkmark"></span>
                                Genetic Algorithm
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="bfsCheck" checked>
                                <span class="checkmark"></span>
                                Breadth-First Search
                            </label>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>Movement Options</h3>
                        <label class="checkbox-label">
                            <input type="checkbox" id="diagonalCheck">
                            <span class="checkmark"></span>
                            Allow Diagonal Movement
                        </label>
                    </div>

                    <div class="control-group">
                        <h3>Visualization Speed</h3>
                        <div class="speed-control">
                            <input type="range" id="speedSlider" min="1" max="100" value="50">
                            <span id="speedValue">50ms</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <button id="runBtn" class="btn btn-primary">‚ñ∂ Run Simulation</button>
                        <button id="stopBtn" class="btn btn-danger" disabled>‚èπ Stop</button>
                    </div>
                </div>

                <div class="grid-container">
                    <canvas id="gridCanvas"></canvas>
                    <div class="legend">
                        <div class="legend-item">
                            <span class="legend-color" style="background: #4ade80;"></span>
                            <span>Start</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #f87171;"></span>
                            <span>End</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #334155;"></span>
                            <span>Obstacle</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #22c55e;"></span>
                            <span>Grass (1.5√ó)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #92400e;"></span>
                            <span>Mud (2.0√ó)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #3b82f6;"></span>
                            <span>Water (3.0√ó)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #fbbf24;"></span>
                            <span>Sand (1.8√ó)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #60a5fa;"></span>
                            <span>Exploring</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #a78bfa;"></span>
                            <span>Visited</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #fbbf24;"></span>
                            <span>Path</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="results-section">
                <h2>Performance Metrics</h2>
                <div class="button-group" style="margin-bottom: 15px;">
                    <button id="exportCSVBtn" class="btn btn-success">üìÑ Export CSV</button>
                    <button id="exportJSONBtn" class="btn btn-info">üìã Export JSON</button>
                </div>
                <div id="resultsContainer" class="results-grid">
                    <div class="result-card placeholder">
                        <p>Run the simulation to see results</p>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Based on research comparing pathfinding algorithms for autonomous lawn mowers</p>
        </footer>
    </div>

    <script src="simulation.js"></script>
    <script src="dijkstra.js"></script>
    <script src="astar.js"></script>
    <script src="genetic.js"></script>
    <script src="bfs.js"></script>
    <script src="visualizer.js"></script>
    <script src="metrics.js"></script>
    <script src="app.js"></script>
</body>

</html>